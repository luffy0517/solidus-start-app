<%
  order = order_form.object

  is_order_empty = (
    order.adjustments.nonzero.exists? ||
    order.line_item_adjustments.nonzero.exists? ||
    order.shipment_adjustments.nonzero.exists? ||
    order.shipments.any?
  )
%>

<section class="cart-items">
  <%= render(
    partial: 'spree/components/cart/cart_item',
    collection: order.line_items,
    as: :line_item,
    locals: { order_form: order_form }
  ) %>

  <% if is_order_empty %>
    <p><%= t('spree.cart_subtotal', count: order.line_items.sum(:quantity)) %></p>
    <p><%= order.display_item_total %></p>
    <%= render 'spree/components/cart/cart_adjustments' %>
  <% end %>
</section>
